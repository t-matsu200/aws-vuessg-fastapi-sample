# Nginx Configuration

## 1. 概要

このディレクトリには、開発環境および疑似本番環境で使用されるNginxの設定ファイルとDockerfileが含まれています。

## 2. ファイルの役割

- **`Dockerfile`**: 開発環境用のNginxイメージをビルドします。`nginx.conf`をコンテナにコピーします。
- **`nginx.conf`**: 開発環境用の設定ファイルです。リバースプロキシとして機能します。


## 3. 開発環境の設定 (`nginx.conf`)

開発環境では、Nginxはリバースプロキシとして動作し、以下の2つの役割を担います。

1.  **フロントエンドへのプロキシ:**
    - `location /` へのリクエストを、Nuxt.jsの開発サーバー（`http://frontend:3000`）に転送します。
    - これにより、ホットリロードなどの開発機能を利用できます。

2.  **バックエンドへのプロキシ:**
    - `location /api` へのリクエストを、FastAPIサーバー（`http://backend:8000`）に転送します。
    - これにより、CORSの問題を回避し、フロントエンドとバックエンドが同一オリジンであるかのように動作します。

## 4. 設定の変更

- Nginxの設定を変更した場合は、対応する環境のコンテナを再ビルドする必要があります。

  - **開発環境:**
    ```bash
    docker compose up --build -d nginx
    ```
